<div class="content">
  <div class="container">

    <!--
    <div class="card mb-4" style="margin-top: 25px; background-color: rgba(228, 240, 252, 0.8);" *ngFor="let post of listPosts ">
      <img class="card-img-top" src="http://localhost:8082/libFile/files/{{post?.idFile}}" alt="Card image cap" style="width:70px; height: 70px; ">
      <div class="card-body">
        <h1 class="card-title" >{{post.title}} </h1>
        <p class="card-text">
          {{post.content}}
        </p>
        <div class="float-right">
          <button class="btn btn-warning" (click)="onEdite(post.id)">Editer</button>
          <button class="btn btn-danger" (click)="onDelete(post.id)">Supprimer</button>
        </div>
      </div>
      <div class="card-footer text-muted">
        Posted on {{post.created_at | date:'yyyy-MM-dd'}} by
        <a >{{post.user.fname}}</a>
        <div id="comment" style="height: 100px; overflow-y: auto;">
          <ul class="list-group" style="position: relative; ">
            <li class="list-group-item" *ngFor="let comment of post?.comments">
              {{comment.content}}
              <span class="text-right">
                le <i class="text-info">{{comment.created_at | date}}</i> by {{comment.user.fname}}
              </span>
            </li>
          </ul>
        </div>
      </div>
    </div>-->
    <ol style="--length: 5 " role="list"  >


      <li style="  ; --i: 1 "  *ngIf="isReady"  >

        <h3 >
          {{ post.title }}

        </h3>
        <p>

          {{post.content}}
        <br>
          <img class="card-img-top" src="http://localhost:8089/File/file/{{post?.files?.id}}" alt="Card image cap" style="width:200px; height: 200px; justify-content:flex-end ;">
        </p>
        <h5 > created :{{post.created_At}}</h5>
        <button (click)="addlike(post)" class="btn btn-danger"> <i class="fa fa-thumbs-up"></i>Like  {{nbrlike}}</button>
        <button (click)="adddislike(post)" class="btn btn-danger" style="margin-left: 10px;" > <i class="fas fa-thumbs-down"></i>Dislike {{nbrdislike}}</button>


        <ul id="comments-list" class="comments-list">
          <li>
            <div class="comment-main-level">
              <!-- Avatar -->
              <!-- Contenedor del Comentario -->
              <div class="comment-box" *ngFor="let c of post.comment">
                <div class="comment-head">
                  <h6 class="comment-name by-author"><a href="http://creaticode.com/blog">Iheb Lahzami</a></h6>
                <!--  <span>hace 20 minutos</span>
                  <i class="fa fa-reply"></i>
                  <i class="fa fa-heart"></i> -->
                  <div class="comment-content" >

                    {{c.content}}
<hr>
                  </div>
                </div>


              </div>
            </div>
            <!-- Respuestas de los comentarios -->
          </li>
        </ul>
        <!--  <form #comForm="ngForm" (ngSubmit)="comForm.form.valid && addPostcom()">
            <div class="form-group">
              <label for="comment">Add a comment</label>
              <textarea class="form-control" name="comment" id="comment" rows="3" [(ngModel)]="comment.content"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>-->
        <form [formGroup]="cmtform">
          <div class="input-group mb-3">
            <textarea formControlName="content" type="text" class="form-control"  aria-label="Recipient's username" aria-describedby="basic-addon2"></textarea>
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button" (click)="ajouter(post.postId)">comment</button>
            </div>
          </div>
        </form>
      </li>

    </ol>
  </div>
</div>

